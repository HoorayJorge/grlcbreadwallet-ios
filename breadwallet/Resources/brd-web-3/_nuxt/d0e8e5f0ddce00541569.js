(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1128:function(t,e,i){"use strict";i.r(e);i(12);var r=i(1),o=i.n(r),n=i(3),s=i.n(n),a=i(474),c=i(2),l={props:["item","locked"],data:function(){return{}},computed:{iconState:function(){return this.isFailed?"failed":!!this.isProcessing&&"in-progress"},doShowCreatedDate:function(){return!this.isProcessing},doShowStateIcon:function(){return this.isFailed||this.isProcessing},isProcessing:function(){return Object(a.e)(Object(c.g)(this.item,"state"))},isFailed:function(){return Object(a.d)(Object(c.g)(this.item,"state"))},mapStyleToIcon:function(){return Object(a.b)(Object(c.g)(this.item,"style"))}},filters:{shortDate:function(t){var e=new Date(t);return"".concat(e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))}},methods:{plusQuantity:function(t,e){return(e=s()({},e,{numerator:String(e.numerator),denominator:String(e.denominator)}))?Object(a.c)(t,e):e},stateIsSuccess:function(t){return Object(a.f)(t)},detailHandler:function(){var t=Object(c.g)(this.item,"partner"),e=Object(c.g)(this.item,"id");e&&this.$router.push("/order-history/".concat(t,"/").concat(e))}}},u=(i(645),i(0)),f=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"history-item",on:{click:t.detailHandler}},[i("div",{staticClass:"column-icon"},[i("icon",{staticClass:"icon-base",attrs:{name:"transaction-base"}}),t._v(" "),i("icon",{staticClass:"icon-source",attrs:{name:t.mapStyleToIcon}}),t._v(" "),t.doShowStateIcon?i("icon",{staticClass:"icon-state",attrs:{name:t.iconState}}):t._e()],1),t._v(" "),i("div",{staticClass:"column-type"},[i("div",[i("div",{staticClass:"type"},[t._v(t._s(t.$t("history.order.label.type."+t.item.type)))]),t._v(" "),t.doShowCreatedDate?i("div",{staticClass:"created"},[t._v(t._s(t._f("shortDate")(t.item.created)))]):t._e()])]),t._v(" "),i("div",{staticClass:"column-amounts"},[i("div",{staticClass:"quantity"},[t.stateIsSuccess(t.item.state)?i("span",[t._v("+")]):t._e(),t._v(" "),i("butter-currency",{attrs:{value:t.item.quantity&&t.item.quantity.numerator?t.item.quantity:"pending",precision:8}})],1),t._v(" "),t.item.total?i("butter-currency",{staticClass:"total",attrs:{value:t.item.total,precision:8}}):t._e()],1)])},[],!1,null,"0ec17f50",null);f.options.__file="HistoryItem.vue";var d={navTitle:function(){return"Transaction History"},components:{HistoryItem:f.exports},props:[],data:function(){return{error:null,isLocked:!1}},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$event("trxhistory.appeared"),this.refresh();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{hasHistory:function(){return this.history.length>0},hasHistoryCompleted:function(){return this.historyCompleted.length>0},hasHistoryProcessing:function(){return this.historyProcessing.length>0},history:function(){return Object(c.g)(this.$store.state,"order-history.orders")||[]},historyCompleted:function(){return this.history?this.history.filter(function(t){return!Object(a.e)(t.state)}):[]},historyProcessing:function(){return this.history?this.history.filter(function(t){return Object(a.e)(t.state)}):[]},loaded:function(){return Object(c.g)(this.$store.state,"order-history.loaded")&&Object(c.g)(this.$store.state,"experiments.fetched")&&Object(c.g)(this.$store.state,"native.info")}},methods:{setLocked:function(t){this.isLocked=t},goToBuy:function(){this.$router.push("/exchange/buy/")},refresh:function(){var t=o()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$services.getAllHistory();case 3:return this.$store.dispatch("order-history/refreshOrderHistoryConsolidated"),t.next=6,this.$store.dispatch("experiments/fetch");case 6:return t.next=8,this.$store.dispatch("native/getInfo");case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),this.error=t.t0,this.$report(t.t0),this.$store.commit("fatalError",t.t0);case 15:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}()}},h=(i(647),Object(u.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isLocked?r("div",{staticClass:"blurMask"}):t._e(),t._v(" "),r("scroll",{staticClass:"history-list",class:{blur:t.isLocked},attrs:{locked:t.isLocked}},[r("portal",{attrs:{to:"mobile-title"}},[r("span",[t._v(t._s(t.$t("history.order.title")))])]),t._v(" "),r("loader",{staticClass:"history",attrs:{data:t.loaded,error:t.error}}),t._v(" "),t.loaded&&!t.hasHistory?r("div",{staticClass:"history-empty"},[r("div",[r("img",{staticClass:"history-empty-bkg",attrs:{src:i(644)}})]),t._v(" "),r("div",{staticClass:"history-empty-text"},[t._v("\n        "+t._s(t.$t("history.order.empty-history"))),r("br"),t._v("\n        "+t._s(t.$t("history.order.empty-history-subtext"))+"\n        "),r("simple-button",{staticClass:"history-empty-button",on:{click:t.goToBuy}},[t._v(t._s(t.$t("history.order.empty-history-button")))])],1)]):t._e(),t._v(" "),t.loaded&&t.hasHistoryProcessing?r("div",{staticClass:"history-section"},[r("span",{staticClass:"history-section-header"},[t._v("In Progress")]),t._v(" "),t._l(t.historyProcessing,function(t){return r("history-item",{key:t.id,attrs:{item:t}})})],2):t._e(),t._v(" "),t.loaded&&t.hasHistoryCompleted?r("div",{staticClass:"history-section"},[r("span",{staticClass:"history-section-header"},[t._v("Completed")]),t._v(" "),t._l(t.historyCompleted,function(t){return r("history-item",{key:t.id,attrs:{item:t}})})],2):t._e()],1),t._v(" "),r("nuxt-child",{on:{blur:t.setLocked}})],1)},[],!1,null,"5ce9ac48",null));h.options.__file="order-history.vue";e.default=h.exports},474:function(t,e,i){"use strict";i.d(e,"d",function(){return r}),i.d(e,"g",function(){return o}),i.d(e,"e",function(){return n}),i.d(e,"f",function(){return s}),i.d(e,"h",function(){return a}),i.d(e,"i",function(){return c}),i.d(e,"j",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"b",function(){return f}),i.d(e,"a",function(){return d});i(38),i(11),i(2);var r=function(t){return["cancelled","expired","failed","rejected","timeout",""].includes(t)},o=function(t){return["awaiting_transfer_in"].includes(t)},n=function(t){return["processing","awaiting_transfer_in"].includes(t)},s=function(t){return!n(t)&&!r(t)},a=function(t){return["ach","bank","sepa"].includes(t)},c=function(t){return["card","cc","credit"].includes(t)},l=function(t){return["crypto","exchange"].includes(t)},u=function(t,e){return s(t)&&(e.symbol="+ ".concat(e.symbol)),e},f=function(t){return a(t)?"bank":c(t)?"card":function(t){return["crypto","exchange"].includes(t)}(t)?"exchange":"bank"},d=function(t,e){return t.length<=e?t:"".concat(t.substr(0,e),"...")}},514:function(t,e,i){var r=i(646);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,i(7).default)("2194dc90",r,!0,{})},515:function(t,e,i){var r=i(648);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,i(7).default)("dd7edfa2",r,!0,{})},644:function(t,e,i){t.exports=i.p+"img/32eaf06.svg"},645:function(t,e,i){"use strict";var r=i(514);i.n(r).a},646:function(t,e,i){var r=i(17);(t.exports=i(6)(!1)).push([t.i,"@font-face{font-family:Circular-Pro-Book;src:url("+r(i(8))+");src:url("+r(i(8))+'?#iefix) format("embedded-opentype"),url('+r(i(18))+') format("woff2"),url('+r(i(19))+') format("woff");font-weight:400;font-style:normal}@font-face{font-family:Circular-Pro-Bold;src:url('+r(i(9))+");src:url("+r(i(9))+'?#iefix) format("embedded-opentype"),url('+r(i(20))+') format("woff2"),url('+r(i(21))+') format("woff");font-weight:400;font-style:normal}@-webkit-keyframes autofill-data-v-0ec17f50{to{color:#666;background:transparent}}.history-item[data-v-0ec17f50]{align-items:flex-start;border-bottom:1px solid #211f3f;display:flex;flex-direction:row;width:100%}.history-item>*[data-v-0ec17f50]{height:72px;vertical-align:middle}.history-item .column-icon[data-v-0ec17f50]{position:relative;width:20%}.history-item .icon[data-v-0ec17f50]{position:absolute;top:50%;left:50%}.history-item .icon-base[data-v-0ec17f50]{margin-top:-20px;margin-left:-20px;height:40px;width:40px}.history-item .icon-source[data-v-0ec17f50]{margin-top:-12px;margin-left:-12px;height:24px;width:24px}.history-item .icon-state[data-v-0ec17f50]{margin-top:6px;margin-left:6px;height:16px;width:16px;z-index:20}.history-item .column-type[data-v-0ec17f50]{align-items:center;display:flex;justify-content:left;padding-left:8px}.history-item .column-amounts[data-v-0ec17f50]{align-items:flex-end;justify-content:center;display:flex;flex-direction:column;flex-grow:1}.history-item .type[data-v-0ec17f50]{color:#f9f9f9}.history-item .created[data-v-0ec17f50]{color:hsla(0,0%,100%,.7)}.history-item .quantity[data-v-0ec17f50]{color:#f9f9f9;float:right;padding-right:16px;text-align:right;display:flex;flex-shrink:0}.history-item .quantity span[data-v-0ec17f50]{display:inline-flex;margin-right:5px}.history-item .total[data-v-0ec17f50]{color:hsla(0,0%,100%,.7);float:right;padding-right:16px;text-align:right}',""])},647:function(t,e,i){"use strict";var r=i(515);i.n(r).a},648:function(t,e,i){var r=i(17);(t.exports=i(6)(!1)).push([t.i,"@font-face{font-family:Circular-Pro-Book;src:url("+r(i(8))+");src:url("+r(i(8))+'?#iefix) format("embedded-opentype"),url('+r(i(18))+') format("woff2"),url('+r(i(19))+') format("woff");font-weight:400;font-style:normal}@font-face{font-family:Circular-Pro-Bold;src:url('+r(i(9))+");src:url("+r(i(9))+'?#iefix) format("embedded-opentype"),url('+r(i(20))+') format("woff2"),url('+r(i(21))+') format("woff");font-weight:400;font-style:normal}@-webkit-keyframes autofill-data-v-5ce9ac48{to{color:#666;background:transparent}}.empty[data-v-5ce9ac48]{text-align:center}.blurMask[data-v-5ce9ac48]{position:fixed;top:0;left:0;height:100%;width:100%;z-index:10}.blur[data-v-5ce9ac48]{-webkit-filter:blur(2px);filter:blur(2px);transition:filter .35s linear,-webkit-filter .35s linear}.history-list[data-v-5ce9ac48]{flex-flow:column}.history-list .history-empty[data-v-5ce9ac48]{position:relative;z-index:0}.history-list .history-empty .history-empty-bkg[data-v-5ce9ac48]{width:100%;z-index:2}.history-list .history-empty .history-empty-text[data-v-5ce9ac48]{color:hsla(0,0%,100%,.6);font-size:14pt;position:absolute;text-align:center;top:220px;width:100%;z-index:3}.history-list .history-empty .history-empty-button[data-v-5ce9ac48]{margin-top:20px}.history-list .history-section[data-v-5ce9ac48]{margin-bottom:25px}.history-list .history-section-header[data-v-5ce9ac48]{color:hsla(0,0%,100%,.6);margin-left:16px}',""])}}]);
//# sourceMappingURL=d0e8e5f0ddce00541569.js.map